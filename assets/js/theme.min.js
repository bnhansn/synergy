initAppear=function(){$(".animated").appear(function(){$(this).each(function(){$(this).addClass("activated"),$(this).addClass($(this).data("fx"))})},{accY:-50})},initSidenavLinks=function(){$(".navigation a").click(function(){$("body").hasClass("body--nav-open")&&$("body").removeClass("body--nav-open").addClass("body--nav-closed");var i=$(this).attr("href");return NProgress.start(),$(this).siblings().removeClass("active"),$(this).addClass("active"),$.ajax({url:i,type:"GET"}).done(function(t){var a=$(t).find(".page-ajax-holder").html();$(".page-ajax-holder").html(a),history.pushState({},"",i),initSubcategoryLinks(),initPostLinks(),initPageLinks(),initInfiniteScroll(),initAppear(),NProgress.done()}).fail(function(){ajaxError(i)}),!1})},initSubcategoryLinks=function(){$(".subcategories a").click(function(){var i=$(this).attr("href");return NProgress.start(),$(this).siblings().removeClass("active"),$(this).addClass("active"),$.ajax({url:i,type:"GET"}).done(function(t){var a=$(t).find(".post-ajax-holder").html();$(".post-ajax-holder").html(a),history.pushState({},"",i),initPostLinks(),initPageLinks(),initAppear(),NProgress.done()}).fail(function(){ajaxError(i)}),!1})},initPageLinks=function(){$(".page-links a").click(function(){var i=$(this).attr("href");return NProgress.start(),$.ajax({url:i,type:"GET"}).done(function(t){var a=$(t).find(".page-ajax-holder").html();$(".page-ajax-holder").html(a),history.pushState({},"",i),initPostLinks(),initSubcategoryLinks(),initPageLinks(),initAppear(),$("html, body").animate({scrollTop:200},400),NProgress.done()}).fail(function(){ajaxError(i)}),!1})},initPostLinks=function(){$(".ajax-post-link").click(function(){var i=$(this).attr("href");return NProgress.start(),$.ajax({url:i,type:"GET"}).done(function(t){var a=$(t).find(".post-ajax-holder").html();$(".post-ajax-holder").html(a),history.pushState({},"",i),initPageLinks(),$("html, body").animate({scrollTop:200},400),NProgress.done()}).fail(function(){ajaxError(i)}),!1})},initInfiniteScroll=function(){$(".infinite-scroll-holder").length&&$(window).scroll(function(){var i=$(".pagination .older-posts").attr("href");i&&$(window).scrollTop()>$(document).height()-$(window).height()-150&&($(".pagination").html("<div class='loader-holder'><div class='ui active loader'></div></div>"),NProgress.start(),$.ajax({url:i,type:"GET",success:function(i){var t=$(i).find(".infinite-scroll-holder").html();$(".infinite-scroll-holder").append(t),initAppear(),initPostLinks(),initPageLinks(),$(".infinite-scroll-holder").find(".pagination:first").remove(),NProgress.done()}}))})},initSearch=function(){$("#search-field").ghostHunter({results:".post-ajax-holder",result_template:"<article class='ui fluid card'><div class='content'><h2><a href='{{link}}' class='ajax-post-link'>{{title}}</a></h2><section><p>{{description}}</p></section></div><div class='extra content right aligned'><a href='{{link}}' class='ajax-post-link'>Read more</a></div></article>",onKeyUp:!0,onComplete:function(i){$(".subcategories").empty(),$(".navigation").find(".active").removeClass("active"),initPostLinks()}})},ajaxError=function(i){history.pushState({},"",i),$(".page-ajax-holder").html("<nav class='subcategories'></nav><main class='post-ajax-holder'><h1>Page Not Found</h1><p>If you are the site admin you may need to create a page for this link from the ghost admin panel.</p></main></div>"),NProgress.done()},$(document).ready(function(){initAppear(),initSidenavLinks(),initSubcategoryLinks(),initPageLinks(),initPostLinks(),initInfiniteScroll(),initSearch()}),$(document).on("click","#off-canvas-toggle",function(){return $("body").removeClass("body--nav-closed").addClass("body--nav-open").click(function(){$(this).removeClass("body--nav-open").addClass("body--nav-closed")}),!1}),$(function(){FastClick.attach(document.body)});